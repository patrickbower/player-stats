{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/main.js","src/js/middleware.js","src/js/playerstats.js","src/js/utils.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","default","getPlayerStats","url","config","api","playerstats","utils","request","then","data","list","players","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","_step$value","value","player","stats","slug","name","first","last","toLowerCase","statsCollection","map","item","id","position","info","positionInfo","split","pop","teamSlug","currentTeam","replace","err","return","middleware","PlayerStats","_PlayerStats","_this","this","_classCallCheck","response","init","playerTemplate","selectTemplate","card","select","activePlayer","statsData","getPlayerTemplate","getSelectTemplate","renderPlayers","renderSelect","bind","start","document","querySelector","innerHTML","playersHTML","toFixed","insertAdjacentHTML","selectHTML","instance","addEventListener","event","preventDefault","selectedOption","selectedIndex","changePlayer","option","classList","remove","add","callback","fetch","json","catch","console","error"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nimport playerstats from './playerstats.js';\nconst PlayerStats = new playerstats();\n","'use strict';\n\nimport * as utils from './utils';\n\nconst config = {\n    api: '../data/',\n    playerstats: 'player-stats.json'\n};\n\nexport function getPlayerStats() {\n    const url = `${config.api}${config.playerstats}`;\n    const rawData = utils.request(url);\n\n    return rawData.then(data => {\n        const list = {};\n\n        const { players } = data;\n        for (let { player, stats } of players) {\n            const slug = `${player.name.first}-${player.name\n                .last}`.toLowerCase();\n\n            var statsCollection = {};\n            stats.map(item => {\n                statsCollection[item.name] = item.value;\n                return statsCollection;\n            });\n\n            list[slug] = {\n                name: `${player.name.first} ${player.name.last}`,\n                slug: slug,\n                id: player.id,\n                position: player.info.positionInfo.split(' ').pop(),\n                stats: statsCollection,\n                teamSlug: `${player.currentTeam.name}`\n                    .toLowerCase()\n                    .replace(' ', '-')\n            };\n        }\n\n        return list;\n    });\n}\n","'use strict';\n\nimport * as middleware from './middleware';\n\nclass PlayerStats {\n    constructor(PlayerStats) {\n        const stats = middleware.getPlayerStats();\n        stats.then(response => {\n            this.init(response);\n        });\n\n        this.config = {\n            playerTemplate: '.js-player-template',\n            selectTemplate: '.js-select-template',\n            player: '.js-player',\n            card: '.js-card',\n            select: '.js-select'\n        };\n\n        this.activePlayer = 'toby-alderweireld';\n    }\n\n    init(response) {\n        this.statsData = response;\n        this.getPlayerTemplate();\n        this.getSelectTemplate();\n        this.renderPlayers();\n        this.renderSelect();\n        this.bind();\n        this.start();\n    }\n\n    getPlayerTemplate() {\n        this.playerTemplate = document.querySelector(\n            this.config.playerTemplate\n        ).innerHTML;\n    }\n\n    getSelectTemplate() {\n        this.selectTemplate = document.querySelector(\n            this.config.selectTemplate\n        ).innerHTML;\n    }\n\n    renderPlayers() {\n        let playersHTML = '';\n        const data = this.statsData;\n\n        for (var player in data) {\n            playersHTML += this.playerTemplate\n                .replace(/{name}/g, data[player]['name'])\n                .replace(/{position}/g, data[player]['position'])\n                .replace(/{appearances}/g, data[player].stats['appearances'])\n                .replace(/{goals}/g, data[player].stats['goals'])\n                .replace(/{assists}/g, data[player].stats['goal_assist'] || 0)\n                .replace(\n                    /{gpm}/g,\n                    (data[player].stats['goals'] /\n                        data[player].stats['appearances']).toFixed(1)\n                )\n                .replace(\n                    /{ppm}/g,\n                    (data[player].stats['mins_played'] /\n                        (data[player].stats['backward_pass'] +\n                            data[player].stats['fwd_pass'])).toFixed(1)\n                )\n                .replace(/{id}/g, data[player]['id'])\n                .replace(/{team-slug}/g, data[player]['teamSlug'])\n                .replace(/{player-slug}/g, data[player]['slug']);\n        }\n\n        const card = document.querySelector(this.config.card);\n        card.insertAdjacentHTML('afterbegin', playersHTML);\n    }\n\n    renderSelect() {\n        let selectHTML = '';\n        const data = this.statsData;\n\n        for (var player in data) {\n            selectHTML += this.selectTemplate\n                .replace(/{value}/g, data[player]['slug'])\n                .replace(/{name}/g, data[player]['name']);\n        }\n\n        const select = document.querySelector(this.config.select);\n        select.insertAdjacentHTML('beforeend', selectHTML);\n    }\n\n    bind() {\n        const instance = this;\n\n        const select = document.querySelector(this.config.select);\n        select.addEventListener('change', function(event) {\n            event.preventDefault();\n            var selectedOption = this[this.selectedIndex];\n            instance.changePlayer(selectedOption.value);\n        });\n    }\n\n    changePlayer(option) {\n        document\n            .querySelector(`#${this.activePlayer}`)\n            .classList.remove('active');\n        document.querySelector(`#${option}`).classList.add('active');\n        this.activePlayer = option;\n    }\n\n    start() {\n        document.querySelector(`#${this.activePlayer}`).classList.add('active');\n    }\n}\n\nexport default PlayerStats;\n","'use strict';\n\nexport function request(url, callback) {\n    const statsPromise = fetch(`./data/${url}`);\n\n    return statsPromise\n        .then(data => data.json())\n        .then(data => {\n            return data;\n        })\n        .catch(err => {\n            console.error(err);\n        });\n}\n"]}